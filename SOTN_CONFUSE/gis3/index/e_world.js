$(function(){var g=[];var e=worldCity.features;$.each(e,function(j,i){if(i.properties&&i.properties.NAME&&i.geometry&&i.geometry.coordinates){var k={name:i.properties.NAME,value:i.geometry.coordinates};g.push(k)}});var b=[];var a=false;var f=worldLines.features;$.each(f,function(l,i){var m={tooltip:{formatter:i.properties.NAME+i.properties.TYPE},type:"lines",name:i.properties.NAME,link_type:i.properties.TYPE,shape_line:i.properties.SHAPE_LEN,coordinateSystem:"geo",data:[{coords:i.geometry.coordinates}],polyline:true,lineStyle:{normal:{color:i.color,width:2.5}},itemStyle:{emphasis:{width:5,shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"}}};if(i.geometry.type==="MultiLineString"){var k=[];$.each(i.geometry.coordinates,function(n,o){var p={coords:o};k.push(p)});m.data=k}b.push(m);if(a){var j={tooltip:{formatter:i.name},type:"lines",coordinateSystem:"geo",data:i.lines,polyline:true,lineStyle:{normal:{color:"#fff",width:0}},effect:{constantSpeed:20,show:true,symbolSize:1.5},zlevel:1,progressiveThreshold:500,progressive:200};b.push(j)}});var h={name:"categoryA",type:"map",geoIndex:0,tooltip:{show:false},data:[]};var d={tooltip:{formatter:"{b}"},type:"scatter",coordinateSystem:"geo",data:g,symbol:"circle",hoverAnimation:true,zlevel:20,symbolSize:4,symbolRotate:0,label:{normal:{formatter:"{b}",position:"center",color:"#000",fontWeight:"bold",show:true},emphasis:{show:true}}};var c=[d,h].concat(b);$.get("../../geodata/world.json",function(j){var k=[];$.each(j.features,function(m,n){var o={};k.push("1")});echarts.registerMap("world",j);var l=echarts.init(document.getElementById("g_map"));var i={geo:{map:"world",silent:false,roam:true,zoom:1.2,center:[160,20],regions:[{name:"中华人民共和国",selected:true,label:{show:false}}],itemStyle:{normal:{color:" #ABC7EF",borderWidth:1,borderColor:"#ABC7EF"},emphasis:{areaColor:"#3F7FDB",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:20,borderWidth:0}},emphasis:{label:{show:false}},data:[{name:"中华人民共和国",selected:true}]},series:c};l.setOption(i)})});