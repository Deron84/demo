$(function(){var i=$("body").GeoUtils("getHeight");console.log("height",i);$("#g_map").css("height",i);var e=[];var f=worldCity.features;$.each(f,function(k,j){if(j.properties&&j.properties.NAME&&j.geometry&&j.geometry.coordinates){var l={name:j.properties.NAME,value:j.geometry.coordinates};e.push(l)}});var h=[];var c=false;var b=worldLines.features;$.each(b,function(m,j){var n={tooltip:{formatter:j.properties.NAME+j.properties.TYPE},type:"lines",name:j.properties.NAME,link_type:j.properties.TYPE,shape_line:j.properties.SHAPE_LEN,coordinateSystem:"geo",data:[{coords:j.geometry.coordinates}],polyline:true,lineStyle:{normal:{color:j.color,width:2.5}},itemStyle:{emphasis:{width:5,shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"}}};if(j.geometry.type==="MultiLineString"){var l=[];$.each(j.geometry.coordinates,function(o,p){var q={coords:p};l.push(q)});n.data=l}h.push(n);if(c){var k={tooltip:{formatter:j.name},type:"lines",coordinateSystem:"geo",data:j.lines,polyline:true,lineStyle:{normal:{color:"#fff",width:0}},effect:{constantSpeed:20,show:true,symbolSize:1.5},zlevel:1,progressiveThreshold:500,progressive:200};h.push(k)}});var a={name:"categoryA",type:"map",geoIndex:0,tooltip:{show:false},data:[]};var g={tooltip:{formatter:"{b}"},type:"scatter",coordinateSystem:"geo",data:e,symbol:"circle",hoverAnimation:true,zlevel:20,symbolSize:4,symbolRotate:0,label:{normal:{formatter:"{b}",position:"center",color:"#000",fontWeight:"bold",show:true},emphasis:{show:true}}};var d=[g,a].concat(h);$.get("../../geodata/world.json",function(k){var l=[];$.each(k.features,function(n,o){var p={};l.push("1")});echarts.registerMap("world",k);var m=echarts.init(document.getElementById("g_map"));var j={geo:{map:"world",silent:false,roam:true,zoom:1.2,center:[160,20],regions:[{name:"中华人民共和国",selected:true,label:{show:false}}],itemStyle:{normal:{color:" #ABC7EF",borderWidth:1,borderColor:"#ABC7EF"},emphasis:{areaColor:"#3F7FDB"}},emphasis:{label:{show:false}},data:[{name:"中华人民共和国",selected:true}]},series:d};m.setOption(j);window.onresize=function(){var n=$("body").GeoUtils("getHeight");$("#g_map").css("height",n);$("body").GeoUtils("getResize",m)}})});