<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>网络故障-国际网络</title>
    <script src="../../config/global.js"></script>
    <script src="../../inspur/frame/mapConfig.js"></script>
    <script src="../../lib/jquery-1.12.4.min.js"></script>
    <script src="../../lib/echarts4/echarts.js"></script>
    <script src="../../geodata/worldcity.js"></script>
    <script src="../../geodata/worldolines.js"></script>
    <script src="../../inspur/GeoUtils.js"></script>
    <script src="e_world.js"></script>


</head>
<body>
<div id="g_map"  style="width:100%;height:800px;"></div>
<script>
    $("body").WorldModule({});
</script>
<!--<script>

    var deviceNormalSymbol = 'image://http://localhost:63342/SOTN/images/OTN_N_B.png';
    var deviceDefaultSymbol = 'image://http://localhost:63342/SOTN/images/OTN_F_B.png';
    var deviceHightSymbol = 'image://http://localhost:63342/SOTN/images/ceshi2.png';

    var lineNormalStyle = {color:'#44cef6',width:1,curveness:0.3};               //定义故障线样式
    var lineDefaultStyle = {color:'red',width:1};               //定义正常线样式
    var lineHightStyle = {color:'#32DA47',width:3};                    //定义高亮样式

    var datas = [
        {coords:[[-4636706.451,4400693.0874],[-12769632.4827,6942562.9541]],lineStyle:lineNormalStyle},
        {coords:[[-3222947.2055,3986664.2886],[-5623711.8972,6679188.6169]],lineStyle:lineNormalStyle},
        {coords:[[-4009041.829,3750835.9015],[-13885573.0966,5143771.6414]],lineStyle:lineNormalStyle},
        {coords:[[-5207043.9438,4382870.0407],[-12247147.3703,2778795.8423]],lineStyle:lineNormalStyle},
        {coords:[[-6151665.4162,4240285.6675],[-15437472.7206,2190635.3028]],lineStyle:lineNormalStyle},
        {coords:[[-3121747.4858,3260018.1018],[-13280884.076,1780705.2299]],lineStyle:lineDefaultStyle},
        {coords:[[-3442562.3255,2921380.2155],[-10785657.545,889552.8974]],lineStyle:lineNormalStyle},
        {coords:[[-3299977.9523,3117433.7286],[-4725821.6842,1709413.0433]],lineStyle:lineNormalStyle},
        {coords:[[-3026423.5496,3095757.0486],[-4237660.8999,1310926.0346]],lineStyle:lineNormalStyle},
        {coords:[[-3439937.769072967,2466243.843664779],[-3503464.7674,136459.1119]],lineStyle:lineNormalStyle},
        {coords:[[-4030722.8649,3028318.4954],[-626520.9548,-625406.0678]],lineStyle:lineNormalStyle},
        {coords:[[-3747010.2878,4156984.7904],[799322.7771,6129528.6124]],lineStyle:lineNormalStyle},
        {coords:[[-3353962.9761,3803242.2098],[5425810.0122,7272894.2717]],lineStyle:lineNormalStyle},
        {coords:[[-5082282.6172,3527363.8015],[8724174.7613,6118466.6095]],lineStyle:lineNormalStyle},
        {coords:[[-3917330.7896,4130781.6362],[9350864.0636,4139447.7601]],lineStyle:lineDefaultStyle},
        {coords:[[-4315891.6113,3937293.8745],[10439324.4308,2688167.2705]],lineStyle:lineNormalStyle},
        {coords:[[-3563588.209,4156984.7904],[14892116.842,-940033.9535]],lineStyle:lineNormalStyle}

    ];

    var deviceDatas = [
        {
            id:'1',
            symbol:deviceNormalSymbol,
            value:[-3439937.7690729671, 2466243.8436647789,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[5425810.01220000,7272894.27170000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[8724174.76130000,6118466.60950000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[9350864.06360000,4139447.76010000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[11692703.03540000,4007513.17010000,60]
        },{
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[10439324.43080000,2688167.27050000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[14892116.84200000,-940033.95350000,60]
        },{
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-973017.60100000,-2853085.50790000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-13885573.09660000,5143771.64140000,60]
        },{
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-12769632.48270000,6942562.95410000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-5623711.89720000,6679188.61690000,60]
        },{
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-3503464.76740000,136459.11190000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-9980946.98880000,-2277602.492200000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-11017357.15150000,4311577.85410000,60]
        },{
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-8789476.32030000,4454162.22730000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-7648801.33470000,5380960.65310000,60]
        },{
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[799322.77710000,6129528.61240000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-626520.95480000,-625406.06780000,60]
        },{
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-4725821.68420000,1709413.04330000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-4237660.89990000,1310926.03460000,60]
        },{
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-15437472.72060000,2190635.30280000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-12247147.37030000,2778795.84230000,60]
        },{
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-13280884.07600000,1780705.22990000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-10785657.54500000,889552.89740000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-2515763.89970000,4774977.06700000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-6151665.41620000,4240285.66750000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-4636706.45100000,4400693.08740000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-5207043.94380000,4382870.04070000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-5082282.61720000,3527363.80150000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-4618883.40430000,3545186.84820000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-4030722.86490000,3028318.49540000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-3442562.32550000,2921380.21550000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-3299977.95230000,3117433.72860000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-3121747.48580000,3260018.10180000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-4315891.61130000,3937293.87450000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-3026423.54960000,3095757.04860000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-3917330.78960000,4130781.63620000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-3747010.28780000,4156984.79040000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-3563588.20900000,4156984.79040000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-3681502.40250000,3999765.86570000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-3222947.20550000,3986664.28860000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-3353962.97610000,3803242.20980000,60]
        },
        {
            id:'3',
            symbol:deviceDefaultSymbol,
            value:[-4009041.82900000,3750835.90150000,60]
        }
    ];

    $.get('../../geodata/world.json',function(mapJson){
        var data = [];
        $.each(mapJson.features,function(index,item){
            var row = {};
            //row.name = item.properties.NAME;
            //row.lon = item.CP[0];
            //row.lat = item.CP[1];
            //data.push(row);
            data.push("1");
        });
        echarts.registerMap('world',mapJson);
//        设置
        var planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z';

        var e_map = echarts.init(document.getElementById("g_map"));
        var options = {
            geo:$("body").GeoUtils('getWorldMapInstance'),
            series: [
                {
                    name: 'lines',
                    type: 'lines',

                    /*effect: {
                        show: true,
                        period: 6,
                        trailLength: 0,
                        symbol: planePath,
                        symbolSize: 15
                    },*/
                    lineStyle: {
                        normal: {
                            color: 'red',
                            width: 1,
                            opacity: 0.6,
                            curveness: 0.3
                        }
                    },
                    data: datas
                }, {
                    name: 'trail',
                    type: 'lines',

                    effect: {
                        show: true,
                        period: 6,
                        trailLength: 0.2,
                        color: '#fff',
                        symbolSize: 4
                    },
                    lineStyle: {
                        normal: {
                            color: "#fff",
                            width: 0,
                            curveness: 0.1
                        }
                    },
                    data: datas
                },
                {
                    name:'devices',
                    type:'scatter',
                    color: 'blue',
                    coordinateSystem: 'geo',
                    label: {
                        normal: {
                            show: true,
                            position: 'right',
                            formatter: '{b}'
                        }
                    },
                    symbolSize: function (val) {
                        return val[2] / 4;
                    },
                    itemStyle: {
                        normal: {
                            color: 'blue'
                        }
                    },
                    data:deviceDatas
                }
            ],
            backgroundColor:'#BDDBF9'
        }
        e_map.on('click',function(params){
            console.log('params',params.data.value);
        });
        e_map.setOption(options);
    });
</script>-->
</body>
</html>